# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –±–æ—Ç–∞ –≤ Docker

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å **—Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π –∫–æ–¥–∞**. –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
# 1. SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≥–¥–µ –∑–∞–ø—É—â–µ–Ω Docker
ssh your-server

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/tender-ai-bot  # –∏–ª–∏ /app –µ—Å–ª–∏ –≤—ã –£–ñ–ï –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

# 3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ GitHub
git pull origin main

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose restart
# –ò–õ–ò –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è docker run:
docker restart tender-bot
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh your-server

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/tender-ai-bot

# 3. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
git pull origin main

# 4. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è volume –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ï—Å–ª–∏ –∫–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ volume –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –Ω–∞ —Ö–æ—Å—Ç–µ
cd /path/to/tender-ai-bot
git pull origin main

# 2. –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose restart

# Python –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker exec -it tender-bot bash

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
cd /app
git log --oneline -1

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# 13ffa10 Add procurement object (tender name) to Telegram summary and HTML report

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
grep "–û–±—ä–µ–∫—Ç –∑–∞–∫—É–ø–∫–∏" bot/handlers/search.py
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Å—Ç—Ä–æ–∫–∏ —Å "üì¶ –û–±—ä–µ–∫—Ç –∑–∞–∫—É–ø–∫–∏"

# –í—ã–π—Ç–∏ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
exit
```

---

## üêõ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–∑ –ª–æ–≥–æ–≤

### 1. –ë–∏—Ç—ã–µ PDF —Ñ–∞–π–ª—ã
```
‚ùå –û—à–∏–±–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞: EOF marker not found
```

**–†–µ—à–µ–Ω–∏–µ:** Zakupki.gov.ru –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∏—Ç—ã–µ PDF. –ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã.

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç poppler –¥–ª—è OCR
```
‚ö†Ô∏è Unable to get page count. Is poppler installed and in PATH?
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤ Dockerfile:
```dockerfile
RUN apt-get update && apt-get install -y \
    poppler-utils \
    && rm -rf /var/lib/apt/lists/*
```

### 3. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è multi-stage –∞–Ω–∞–ª–∏–∑

–í –ª–æ–≥–∞—Ö –Ω–µ—Ç —ç—Ç–∏—Ö —Å—Ç—Ä–æ–∫:
```
‚úÖ –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (6 —ç—Ç–∞–ø–æ–≤ + scoring + –≤–∞–ª–∏–¥–∞—Ü–∏—è)
üìç –≠—Ç–∞–ø 1/6: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...
```

**–ü—Ä–∏—á–∏–Ω–∞:** Multi-stage –∞–Ω–∞–ª–∏–∑ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `use_multi_stage=True` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ TenderAnalyzer.

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

- [ ] SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] `cd /path/to/tender-ai-bot`
- [ ] `git pull origin main`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–º–º–∏—Ç `13ffa10` –ø–æ–¥—Ç—è–Ω—É–ª—Å—è: `git log --oneline -1`
- [ ] `docker-compose down`
- [ ] `docker-compose build --no-cache` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å)
- [ ] `docker-compose up -d`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker-compose logs -f`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏–∑ —Ç–µ–Ω–¥–µ—Ä–∞ –≤ Telegram

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Telegram –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:

```
‚úÖ AI-–ê–ù–ê–õ–ò–ó –ó–ê–í–ï–†–®–ï–ù

üìÑ –¢–µ–Ω–¥–µ—Ä: 0851600003525000719
üì• –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: 4

üì¶ –û–±—ä–µ–∫—Ç –∑–∞–∫—É–ø–∫–∏:
–ü–æ—Å—Ç–∞–≤–∫–∞ —Å–Ω–µ–≥–∞

üè¢ –ó–∞–∫–∞–∑—á–∏–∫: ...
```

–ò –≤ HTML –æ—Ç—á–µ—Ç–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫:
```
üì¶ –û–ë–™–ï–ö–¢ –ó–ê–ö–£–ü–ö–ò
–ü–æ—Å—Ç–∞–≤–∫–∞ —Å–Ω–µ–≥–∞
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–ù–∞–π–¥–∏—Ç–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω Docker** - –Ω–∞ –∫–∞–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ/–º–∞—à–∏–Ω–µ
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å** - –≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ –Ω–µ `/app`, –∞ –¥—Ä—É–≥–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ docker-compose.yml** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. **–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

---

## üîß –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è docker-compose)
cd /path/to/tender-ai-bot && \
git pull origin main && \
docker-compose restart && \
docker-compose logs -f --tail=50
```
