"""
–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã /start –∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é.
"""

from aiogram import Router, F
from aiogram.filters import CommandStart, Command
from aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.fsm.context import FSMContext

router = Router()


@router.message(CommandStart())
async def cmd_start(message: Message, state: FSMContext):
    """
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start.
    –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.
    """
    # –û—á–∏—â–∞–µ–º –ª—é–±–æ–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    await state.clear()

    welcome_text = (
        "üëã <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Tender Sniper!</b>\n\n"
        "üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ç–µ–Ω–¥–µ—Ä–∞—Ö zakupki.gov.ru\n\n"
        "<b>–ß—Ç–æ —è —É–º–µ—é:</b>\n"
        "üîç –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–≤—ã—Ö —Ç–µ–Ω–¥–µ—Ä–æ–≤ (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)\n"
        "üéØ –£–º–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –≤–∞—à–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ (scoring 0-100)\n"
        "üì± –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–µ–Ω–¥–µ—Ä–∞—Ö\n"
        "üíé –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π –∏ –ª–∏–º–∏—Ç–∞–º–∏\n"
        "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –∏ –∫–≤–æ—Ç\n\n"
        "<b>–í–∞—à —Ç–∞—Ä–∏—Ñ:</b> üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π\n"
        "‚Ä¢ 5 —Ñ–∏–ª—å—Ç—Ä–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞\n"
        "‚Ä¢ 10 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –¥–µ–Ω—å\n\n"
        "<i>–ù–∞–∂–º–∏—Ç–µ /sniper –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã!</i>"
    )

    keyboard = InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üéØ –ó–∞–ø—É—Å—Ç–∏—Ç—å Tender Sniper", callback_data="sniper_menu")],
        [InlineKeyboardButton(text="‚ùì –ü–æ–º–æ—â—å", callback_data="sniper_help")]
    ])

    await message.answer(
        welcome_text,
        reply_markup=keyboard,
        parse_mode="HTML"
    )


@router.message(Command("help"))
async def cmd_help(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help."""

    help_text = (
        "‚ùì <b>–°–ø—Ä–∞–≤–∫–∞ Tender Sniper</b>\n\n"

        "<b>–ß—Ç–æ —Ç–∞–∫–æ–µ Tender Sniper?</b>\n"
        "–≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö —Ç–µ–Ω–¥–µ—Ä–æ–≤ –Ω–∞ zakupki.gov.ru. "
        "–í—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã —Å –≤–∞—à–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏, –∏ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–∞—Å "
        "–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Ç–µ–Ω–¥–µ—Ä–∞—Ö.\n\n"

        "<b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</b>\n"
        "1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏\n"
        "2. –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ —Ç–µ–Ω–¥–µ—Ä—ã –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç\n"
        "3. –ü—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ\n"
        "4. –ú–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –∫ –∞–Ω–∞–ª–∏–∑—É –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞ zakupki.gov.ru\n\n"

        "<b>Scoring (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å)</b>\n"
        "–ö–∞–∂–¥—ã–π —Ç–µ–Ω–¥–µ—Ä –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ —à–∫–∞–ª–µ 0-100:\n"
        "‚Ä¢ 80-100: –û—Ç–ª–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ üî•\n"
        "‚Ä¢ 60-79: –•–æ—Ä–æ—à–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚ú®\n"
        "‚Ä¢ 40-59: –°—Ä–µ–¥–Ω–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ üìå\n\n"

        "<b>–ö–≤–æ—Ç—ã –∏ –ª–∏–º–∏—Ç—ã</b>\n"
        "–ó–∞–≤–∏—Å—è—Ç –æ—Ç –≤–∞—à–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞:\n"
        "‚Ä¢ Free: 5 —Ñ–∏–ª—å—Ç—Ä–æ–≤, 10 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π/–¥–µ–Ω—å\n"
        "‚Ä¢ Basic: 15 —Ñ–∏–ª—å—Ç—Ä–æ–≤, 50 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π/–¥–µ–Ω—å\n"
        "‚Ä¢ Premium: Unlimited"
    )

    keyboard = InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üéØ –û—Ç–∫—Ä—ã—Ç—å Tender Sniper", callback_data="sniper_menu")],
        [InlineKeyboardButton(text="¬´ –ù–∞–∑–∞–¥", callback_data="sniper_menu")]
    ])

    await message.answer(help_text, reply_markup=keyboard, parse_mode="HTML")


# –°—Ç–∞—Ä—ã–µ handlers –æ—Ç–∫–ª—é—á–µ–Ω—ã - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ Tender Sniper
# @router.message(F.text == "üîç –ù–æ–≤—ã–π –ø–æ–∏—Å–∫")
# async def start_new_search(message: Message, state: FSMContext):
#     pass
